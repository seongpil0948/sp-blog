
# TLS 통신(브라우저)
브라우저와 서버 간 TLS 통신은 다음과 같은 7단계 절차로 이루어집니다.

1. 클라이언트 헬로:

클라이언트는 지원하는 TLS 버전, 암호화 알고리즘 및 압축 알고리즘 목록을 포함하는 "클라이언트 헬로" 메시지를 서버로 전송합니다.
클라이언트는 또한 임의의 난수(Pre-Master Secret)를 생성합니다.
2. 서버 헬로:

서버는 지원하는 TLS 버전, 암호화 알고리즘 및 압축 알고리즘을 선택하여 "서버 헬로" 메시지를 클라이언트에게 전송합니다.
서버는 자신의 인증서를 클라이언트에게 전송합니다.
서버는 임의의 난수(Pre-Master Secret)를 생성합니다.
3. 서버 인증서 검증:

클라이언트는 신뢰할 수 있는 인증 기관(CA)의 인증서 저장소에서 서버 인증서를 검증합니다.
인증서 검증에 실패하면 연결이 종료됩니다.
4. 협상:

클라이언트와 서버는 "클라이언트 키 교환" 메시지를 통해 서로에게 자신의 공개 키를 전송합니다.
클라이언트와 서버는 협상을 통해 세션 키(Session Key)를 생성합니다. 세션 키는 Pre-Master Secret과 공개 키를 사용하여 암호화됩니다.
5. 마스터 시크릿 생성:

클라이언트와 서버는 세션 키를 사용하여 마스터 시크릿(Master Secret)을 생성합니다.
6. 변경 사항 알림:

클라이언트와 서버는 "변경 사항 알림" 메시지를 통해 서로에게 암호화 알고리즘 및 압축 알고리즘 설정을 알립니다.
7. 애플리케이션 데이터 전송:

클라이언트와 서버는 세션 키를 사용하여 애플리케이션 데이터를 암호화하여 전송합니다.
브라우저의 개인키와 서버의 개인키로 임의의 난수를 암호화하는 과정:

클라이언트와 서버는 각자 임의의 난수(Pre-Master Secret)를 생성합니다.
클라이언트는 자신의 개인키를 사용하여 Pre-Master Secret을 암호화하고 서버에게 전송합니다.
서버는 자신의 개인키를 사용하여 클라이언트로부터 받은 암호화된 Pre-Master Secret을 해독합니다.
클라이언트와 서버는 해독된 Pre-Master Secret을 사용하여 세션 키(Session Key)를 생성합니다.
참고:

TLS는 데이터 암호화, 무결성 검증, 서버 인증을 제공합니다.
TLS는 HTTPS, SSH, SMTP, FTP 등 다양한 프로토콜에서 사용됩니다.
TLS는 다양한 암호화 알고리즘 및 압축 알고리즘을 지원합니다.